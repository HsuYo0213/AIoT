<script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
<div id="plot"></div>
<script>
  // Generating data
  const X = Array.from({length: 100}, () => Math.random() * 2);
  const y = X.map(x => 4 + 3 * x + Math.random());

  // Simple Linear Regression in JS
  let n = X.length;
  let sumX = X.reduce((a, b) => a + b, 0);
  let sumY = y.reduce((a, b) => a + b, 0);
  let sumXY = X.map((xi, i) => xi * y[i]).reduce((a, b) => a + b, 0);
  let sumX2 = X.map(xi => xi * xi).reduce((a, b) => a + b, 0);
  
  let slope = (n * sumXY - sumX * sumY) / (n * sumX2 - sumX ** 2);
  let intercept = (sumY - slope * sumX) / n;

  // Predicted line
  const xLine = [0, 2];
  const yLine = xLine.map(x => intercept + slope * x);

  // Plotting with Plotly
  const trace1 = { x: X, y: y, mode: 'markers', type: 'scatter', name: 'Data Points' };
  const trace2 = { x: xLine, y: yLine, mode: 'lines', name: 'Regression Line' };

  const layout = { title: 'Linear Regression Example', xaxis: { title: 'X' }, yaxis: { title: 'Y' } };
  Plotly.newPlot('plot', [trace1, trace2], layout);
</script>
